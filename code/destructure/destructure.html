<!doctype html>

<html>

<head>
  <meta charset="utf-8">
  <title>Destructuring closures</title>
</head>

<body>

  <script>

    const importObject = {
      js: {
        log: n => console.log(n)
      }
    };

    WebAssembly
      .instantiateStreaming(fetch('destructure.wasm'), importObject)
      .then(wasm => {
        wasm.instance.exports.destruct_and_add(1);
        wasm.instance.exports.destruct_and_add(2);
      });

  </script>
</body>

</html>